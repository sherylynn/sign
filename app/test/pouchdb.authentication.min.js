!function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!a&&u)return u(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";function r(e){return function(t,n){return t&&"unknown_error"===t.name&&(t.message=(t.message||"")+" Unknown error!  Did you remember to enable CORS?"),e(t,n)}}function o(e,t,n,o){var a=["name","password","roles","type","salt","metadata"];if(n.metadata){for(var u in n.metadata)if(n.hasOwnProperty(u)&&(-1!==a.indexOf(u)||u.startsWith("_")))return o(new s('cannot use reserved word in metadata: "'+u+'"'));t=i.extend(!0,t,n.metadata)}var c=i.getUsersUrl(e)+"/"+encodeURIComponent(t._id),f=i.extend(!0,{method:"PUT",url:c,body:t},n.ajax||{});i.ajax(f,r(o))}function s(e){this.status=400,this.name="authentication_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,s)}catch(t){}}var i=e("./utils");n.signup=i.toPromise(function(e,t,n,r){var i=this;if("undefined"==typeof r&&(r="undefined"==typeof n?"undefined"==typeof t?e:t:n,n={}),-1===["http","https"].indexOf(i.type()))return r(new s('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.'));if(!e)return r(new s("You must provide a username"));if(!t)return r(new s("You must provide a password"));var a="org.couchdb.user:"+e,u={name:e,password:t,roles:n.roles||[],type:"user",_id:a};o(i,u,n,r)}),n.signUp=n.signup,n.login=i.toPromise(function(e,t,n,o){var a=this;if("undefined"==typeof o&&(o=n,n={}),-1===["http","https"].indexOf(a.type()))return o(new s("this plugin only works for the http/https adapter"));if(!e)return o(new s("you must provide a username"));if(!t)return o(new s("you must provide a password"));var u=i.extend(!0,{method:"POST",url:i.getSessionUrl(a),headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"name="+encodeURIComponent(e)+"&password="+encodeURIComponent(t)},n.ajax||{});i.ajax(u,r(o))}),n.logIn=n.login,n.logout=i.toPromise(function(e,t){var n=this;"undefined"==typeof t&&(t=e,e={});var o=i.extend(!0,{method:"DELETE",url:i.getSessionUrl(n)},e.ajax||{});i.ajax(o,r(t))}),n.logOut=n.logout,n.getSession=i.toPromise(function(e,t){var n=this;"undefined"==typeof t&&(t=e,e={});var o=i.getSessionUrl(n),s=i.extend(!0,{method:"GET",url:o},e.ajax||{});i.ajax(s,r(t))}),n.getUser=i.toPromise(function(e,t,n){var o=this;if("undefined"==typeof n&&(n="undefined"==typeof t?e:t,t={}),!e)return n(new s("you must provide a username"));var a=i.getUsersUrl(o),u=i.extend(!0,{method:"GET",url:a+"/"+encodeURIComponent("org.couchdb.user:"+e)},t.ajax||{});i.ajax(u,r(n))}),n.putUser=i.toPromise(function(e,t,n){var r=this;return"undefined"==typeof n&&(n="undefined"==typeof t?e:t,t={}),-1===["http","https"].indexOf(r.type())?n(new s('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):e?r.getUser(e,t,function(e,s){return e?n(e):void o(r,s,t,n)}):n(new s("You must provide a username"))}),n.changePassword=i.toPromise(function(e,t,n,o){var a=this;return"undefined"==typeof o&&(o="undefined"==typeof n?"undefined"==typeof t?e:t:n,n={}),-1===["http","https"].indexOf(a.type())?o(new s('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):e?t?a.getUser(e,n,function(e,s){if(e)return o(e);s.password=t;var u=i.getUsersUrl(a)+"/"+encodeURIComponent(s._id),c=i.extend(!0,{method:"PUT",url:u,body:s},n.ajax||{});i.ajax(c,r(o))}):o(new s("You must provide a password")):o(new s("You must provide a username"))}),n.changeUsername=i.toPromise(function(e,t,n,o){var a=this,u="org.couchdb.user:",c=function(e){return new i.Promise(function(t,n){i.ajax(e,r(function(e,r){return e?n(e):void t(r)}))})},f=function(e,t){var n=i.getUsersUrl(a)+"/"+encodeURIComponent(e._id),r=i.extend(!0,{method:"PUT",url:n,body:e},t.ajax);return c(r)};return"undefined"==typeof o&&(o=n,n={}),n.ajax=n.ajax||{},-1===["http","https"].indexOf(a.type())?o(new s('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):t?e?a.getUser(t,n).then(function(){var e=new s("user already exists");throw e.taken=!0,e},function(){return a.getUser(e,n)}).then(function(e){var r=i.clone(e);return delete r._rev,r._id=u+t,r.name=t,r.roles=n.roles||e.roles||{},f(r,n).then(function(){return e._deleted=!0,f(e,n)})}).then(function(e){o(null,e)})["catch"](o):o(new s("You must provide a username to rename")):o(new s("You must provide a new username"))}),i.inherits(s,Error),"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./utils":2}],2:[function(e,t,n){(function(t){"use strict";function r(e){return e.getUrl().replace(/\/[^\/]+\/?$/,"")}var o=e("pouchdb/extras/promise"),s=e("url-join");n.getUsersUrl=function(e){return s(r(e),"/_users")},n.getSessionUrl=function(e){return s(r(e),"/_session")},n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,n)})},n.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},n.toPromise=function(e){return n.getArguments(function(r){var s,i=this,a="function"==typeof r[r.length-1]?r.pop():!1;a&&(s=function(e,n){t.nextTick(function(){a(e,n)})});var u=new o(function(t,o){try{var s=n.once(function(e,n){e?o(e):t(n)});r.push(s),e.apply(i,r)}catch(a){o(a)}});return s&&u.then(function(e){s(null,e)},s),u.cancel=function(){return this},u})},n.inherits=e("inherits"),n.extend=e("pouchdb-extend"),n.ajax=e("pouchdb/extras/ajax"),n.clone=function(e){return n.extend(!0,{},e)},n.uuid=e("./uuid"),n.Promise=o}).call(this,e("/Users/nolan/workspace/pouchdb-authentication/node_modules/process/browser.js"))},{"./uuid":3,"/Users/nolan/workspace/pouchdb-authentication/node_modules/process/browser.js":13,inherits:5,"pouchdb-extend":8,"pouchdb/extras/ajax":9,"pouchdb/extras/promise":10,"url-join":14}],3:[function(e,t,n){"use strict";function r(e){return 0|Math.random()*e}function o(e,t){t=t||s.length;var n="",o=-1;if(e){for(;++o<e;)n+=s[r(t)];return n}for(;++o<36;)switch(o){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=s[3&r(16)|8];break;default:n+=s[r(16)]}return n}var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t.exports=o},{}],4:[function(e,t,n){(function(e){"use strict";function n(){f=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}f=!1}function r(e){1!==d.push(e)||f||o()}var o,s=e.MutationObserver||e.WebKitMutationObserver;if(s){var i=0,a=new s(n),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),o=function(){u.data=i=++i%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var f,d=[];t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],6:[function(e,t,n){(function(e){e("object"==typeof n?n:this)}).call(this,function(e){var t=Array.prototype.slice,n=Array.prototype.forEach,r=function(e){if("object"!=typeof e)throw e+" is not an object";var o=t.call(arguments,1);return n.call(o,function(t){if(t)for(var n in t)"object"==typeof t[n]&&e[n]?r.call(e,e[n],t[n]):e[n]=t[n]}),e};e.extend=r})},{}],7:[function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function s(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function i(e,t,n){h(function(){var r;try{r=t(n)}catch(o){return y.reject(e,o)}r===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,r)})}function a(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}function u(e,t){function n(t){s||(s=!0,y.reject(e,t))}function r(t){s||(s=!0,y.resolve(e,t))}function o(){t(r,n)}var s=!1,i=c(o);"error"===i.status&&n(i.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}function f(e){return e instanceof this?e:y.resolve(new this(r),e)}function d(e){var t=new this(r);return y.reject(t,e)}function l(e){function t(e,t){function r(e){i[t]=e,++a!==o||s||(s=!0,y.resolve(c,i))}n.resolve(e).then(r,function(e){s||(s=!0,y.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,s=!1;if(!o)return this.resolve([]);for(var i=new Array(o),a=0,u=-1,c=new this(r);++u<o;)t(e[u],u);return c}function p(e){function t(e){n.resolve(e).then(function(e){s||(s=!0,y.resolve(a,e))},function(e){s||(s=!0,y.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,s=!1;if(!o)return this.resolve([]);for(var i=-1,a=new this(r);++i<o;)t(e[i]);return a}var h=e("immediate"),y={},m=["REJECTED"],w=["FULFILLED"],v=["PENDING"];t.exports=n=o,o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===w||"function"!=typeof t&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==v){var o=this.state===w?e:t;i(n,o,this.outcome)}else this.queue.push(new s(n,e,t));return n},s.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},s.prototype.otherCallFulfilled=function(e){i(this.promise,this.onFulfilled,e)},s.prototype.callRejected=function(e){y.reject(this.promise,e)},s.prototype.otherCallRejected=function(e){i(this.promise,this.onRejected,e)},y.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return y.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=w,e.outcome=t;for(var o=-1,s=e.queue.length;++o<s;)e.queue[o].callFulfilled(t)}return e},y.reject=function(e,t){e.state=m,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},n.resolve=f,n.reject=d,n.all=l,n.race=p},{immediate:4}],8:[function(e,t,n){"use strict";function r(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[p.call(e)]||"object":typeof e}function o(e){return null!==e&&e===e.window}function s(e){if(!e||"object"!==r(e)||e.nodeType||o(e))return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return void 0===n||h.call(e,n)}function i(e){return"function"===r(e)}function a(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var s;s=e.pop();)u(e,s.args,s.result);return o.key}function u(e,t,n){var r,o,a,u,c,f,d,l=t[0]||{},p=1,h=t.length,m=!1,w=/\d+/;for("boolean"==typeof l&&(m=l,l=t[1]||{},p=2),"object"==typeof l||i(l)||(l={}),h===p&&(l=this,--p);h>p;p++)if(null!=(r=t[p])){d=y(r);for(o in r)if(!(o in Object.prototype)){if(d&&!w.test(o))continue;if(a=l[o],u=r[o],l===u)continue;m&&u&&(s(u)||(c=y(u)))?(c?(c=!1,f=a&&y(a)?a:[]):f=a&&s(a)?a:{},e.push({args:[m,f,u],result:{container:l,key:o}})):void 0!==u&&(y(r)&&i(u)||(l[o]=u))}}n.container[n.key]=l}for(var c={},f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],d=0;d<f.length;d++){var l=f[d];c["[object "+l+"]"]=l.toLowerCase()}var p=c.toString,h=c.hasOwnProperty,y=Array.isArray||function(e){return"array"===r(e)};t.exports=a},{}],9:[function(e,t,n){"use strict";t.exports=e("../lib/extras/ajax")},{"../lib/extras/ajax":11}],10:[function(e,t,n){"use strict";t.exports=e("../lib/extras/promise")},{"../lib/extras/promise":12}],11:[function(e,t,n){"use strict";function r(e){return"default"in e?e["default"]:e}function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(n){if("TypeError"!==n.name)throw n;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,s=0;s<e.length;s+=1)o.append(e[s]);return o.getBlob(t.type)}}function s(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function i(){for(var e={},t=new E(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,E.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)})["catch"](function(t){e.reject(t)}),e}function a(e,t){var n,r,o,a=new Headers,u={method:e.method,credentials:"include",headers:a};return e.json&&(a.set("Accept","application/json"),a.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.body instanceof Blob?s(e.body,function(e){u.body=e}):e.body&&e.processData&&"string"!=typeof e.body?u.body=JSON.stringify(e.body):"body"in e?u.body=e.body:u.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&a.set(t,e.headers[t])}),n=i(e.url,u),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):t(e,o)})["catch"](function(e){t(e,o)}),{abort:n.reject}}function u(e,t){var n,r,i=function(){n.abort()};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(a){t(a,{statusCode:413})}n.withCredentials="withCredentials"in e?e.withCredentials:!0,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var u in e.headers)e.headers.hasOwnProperty(u)&&n.setRequestHeader(u,e.headers[u]);return e.timeout>0&&(r=setTimeout(i,e.timeout),n.onprogress=function(){clearTimeout(r),r=setTimeout(i,e.timeout)},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var s;s=e.binary?o([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,s)}else{var i={};try{i=JSON.parse(n.response)}catch(a){}t(i,r)}}},e.body&&e.body instanceof Blob?s(e.body,function(e){n.send(e)}):n.send(e.body),{abort:i}}function c(){try{return new XMLHttpRequest,!0}catch(e){return!1}}function f(e,t){return O||e.xhr?u(e,t):a(e,t)}function d(e){Error.call(this,e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}function l(e,t,n){function r(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==n&&(this.name=n),void 0!==t&&(this.reason=t)}return r.prototype=d.prototype,new r(t)}function p(e){var t,n,r,o,s;return n=e.error===!0&&"string"==typeof e.name?e.name:e.error,s=e.reason,r=$("name",n,s),e.missing||"missing"===s||"deleted"===s||"not_found"===n?r=R:"doc_validation"===n?(r=q,o=s):"bad_request"===n&&r.message!==s&&(r=L),r||(r=$("status",e.status,s)||I),t=l(r,s,n),o&&(t.message=o),e.id&&(t.id=e.id),e.status&&(t.status=e.status),e.missing&&(t.missing=e.missing),t}function h(e){return e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function y(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function m(e){if(e instanceof ArrayBuffer)return y(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function w(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;r>n;n++)t[n]=w(e[n]);return t}if(e instanceof Date)return e.toISOString();if(h(e))return m(e);t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=w(e[n]);"undefined"!=typeof o&&(t[n]=o)}return t}function v(){return""}function g(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(o){return r(o)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?p(e):e})),e.binary&&X(t,n),r(null,t,n)}function r(e,t){var n,r;if(e.code&&e.status){var o=new Error(e.message||e.code);return o.status=e.status,t(o)}try{n=JSON.parse(e.responseText),r=p(n)}catch(s){r=p(e)}t(r)}e=w(e);var o={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=j.extend(o,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),f(e,function(o,s,i){if(o)return o.status=s?s.statusCode:400,r(o,t);var a,u=s.headers&&s.headers["content-type"],c=i||v();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof c&&(/json/.test(u)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c)))try{c=JSON.parse(c.toString())}catch(f){}s.statusCode>=200&&s.statusCode<300?n(c,s,t):(a=p(c),a.status=s.statusCode,t(a))})}function b(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),s=r&&"POST"===e.method||o&&"GET"===e.method,i="cache"in e?e.cache:!0;if(s||!i){var a=-1!==e.url.indexOf("?");e.url+=(a?"&":"?")+"_nonce="+Date.now()}return g(e,t)}var j=e("js-extend"),x=r(e("inherits")),_=r(e("lie")),E="function"==typeof Promise?Promise:_,O=c();x(d,Error),d.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var S=new d({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),T=new d({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),R=new d({status:404,error:"not_found",reason:"missing"}),C=new d({status:409,error:"conflict",reason:"Document update conflict"}),U=new d({status:400,error:"invalid_id",reason:"_id field must contain a string"}),D=new d({status:412,error:"missing_id",reason:"_id is required for puts"}),A=new d({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),B=new d({status:412,error:"precondition_failed",reason:"Database not open"}),I=new d({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),P=new d({status:500,error:"badarg",reason:"Some query argument is invalid"}),N=new d({status:400,error:"invalid_request",reason:"Request was invalid"}),k=new d({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),q=new d({status:500,error:"doc_validation",reason:"Bad special document member"}),L=new d({status:400,error:"bad_request",reason:"Something wrong with the request"}),M=new d({status:400,error:"bad_request",reason:"Document must be a JSON object"}),F=new d({status:404,error:"not_found",reason:"Database not found"}),G=new d({status:500,error:"indexed_db_went_bad",reason:"unknown"}),J=new d({status:500,error:"web_sql_went_bad",reason:"unknown"}),V=new d({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),Y=new d({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),H=new d({status:400,error:"bad_request",reason:"Invalid rev format"}),W=new d({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),z=new d({status:412,error:"missing_stub"}),K=new d({status:413,error:"invalid_url",reason:"Provided URL is invalid"}),Q={UNAUTHORIZED:S,MISSING_BULK_DOCS:T,MISSING_DOC:R,REV_CONFLICT:C,INVALID_ID:U,MISSING_ID:D,RESERVED_ID:A,NOT_OPEN:B,UNKNOWN_ERROR:I,BAD_ARG:P,INVALID_REQUEST:N,QUERY_PARSE_ERROR:k,DOC_VALIDATION:q,BAD_REQUEST:L,NOT_AN_OBJECT:M,DB_MISSING:F,WSQ_ERROR:J,LDB_ERROR:V,FORBIDDEN:Y,INVALID_REV:H,FILE_EXISTS:W,MISSING_STUB:z,IDB_ERROR:G,INVALID_URL:K},$=function(e,t,n){var r=Object.keys(Q).filter(function(n){var r=Q[n];return"function"!=typeof r&&r[e]===t}),o=n&&r.filter(function(e){var t=Q[e];return t.message===n})[0]||r[0];return o?Q[o]:null},X=function(){};t.exports=b},{inherits:5,"js-extend":6,lie:7}],12:[function(e,t,n){"use strict";function r(e){return"default"in e?e["default"]:e}var o=r(e("lie")),s="function"==typeof Promise?Promise:o;t.exports=s},{lie:7}],13:[function(e,t,n){function r(){}var o=t.exports={};o.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=r,o.once=r,o.off=r,o.emit=r,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],14:[function(e,t,n){!function(e,n,r){"undefined"!=typeof t&&t.exports?t.exports=r():"function"==typeof define&&define.amd?define(r):n[e]=r()}("urljoin",this,function(){function e(e,t){return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/(\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&")}return function(){var t=arguments,n={};"object"==typeof arguments[0]&&(t=arguments[0],n=arguments[1]||{});var r=[].slice.call(t,0).join("/");return e(r,n)}})},{}]},{},[1]);
